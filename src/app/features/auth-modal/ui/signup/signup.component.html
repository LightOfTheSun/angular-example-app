<form (ngSubmit)="submit()" [formGroup]="signupForm">
  <div class="form-group">
    <label for="email">E-mail <sup class="text-danger">*</sup></label>
    <input
      [class.is-invalid]="signupForm.controls.email.invalid"
      [formControl]="signupForm.controls.email"
      autofocus
      class="form-control"
      id="email"
      name="email"
      placeholder="Enter your email"
      type="email"
    />
    @if (signupForm.controls.email.invalid && !signupForm.controls.email.untouched) {
      <span class="text-danger">Please enter a valid email!</span>
    }
  </div>

  <div class="form-group mt-3">
    <label for="password">Password <sup class="text-danger">*</sup></label>
    <input
      [class.is-invalid]="signupForm.controls.password.invalid"
      [formControl]="signupForm.controls.password"
      class="form-control"
      id="password"
      name="password"
      placeholder="Enter your password"
      type="password"
    />

    @if (!signupForm.controls.password.untouched && signupForm.controls.password.invalid) {
      @if (signupForm.controls.password.errors; as errors) {
        @if (errors['required']) {
          <div class="text-danger">Please enter a password!</div>
        } @else {
          @if (errors['passwordLength']) {
            <div class="text-danger">Your password must have between 8 and 20 characters!</div>
          }
          @if (errors['passwordLetter']) {
            <div class="text-danger">Your password must contain at least 1 letter!</div>
          }
          @if (errors['passwordDigit']) {
            <div class="text-danger">Your password must contain at least 1 digit!</div>
          }
        }
      }
    }
  </div>

  <div class="form-group mt-3">
    <label for="password">Confirm password <sup class="text-danger">*</sup></label>
    <input
      [class.is-invalid]="signupForm.controls.passwordConfirm.invalid"
      [formControl]="signupForm.controls.passwordConfirm"
      class="form-control"
      id="password-confirm"
      name="password"
      placeholder="Confirm your password"
      type="password"
    />

    @if (!signupForm.controls.passwordConfirm.untouched && signupForm.errors && signupForm.errors['passwordMatch']) {
      <span class="text-danger">Your password and password confirmation must match!</span>
    }
  </div>

  <div class="form-group mt-3">
    <label for="firstName">First name</label>
    <input
      [formControl]="signupForm.controls.firstName"
      class="form-control"
      id="firstName"
      name="firstName"
      placeholder="Your first name"
      type="text"
    />
  </div>

  <div class="form-group mt-3">
    <label for="lastName">Last name</label>
    <input
      [formControl]="signupForm.controls.lastName"
      class="form-control"
      id="lastName"
      name="lastName"
      placeholder="Your last name"
      type="text"
    />
  </div>

  <div class="form-group mt-3">
    <label for="phone">Phone number</label>
    +
    <input
      [class.is-invalid]="signupForm.controls.phone.invalid"
      [formControl]="signupForm.controls.phone"
      class="form-control"
      id="phone"
      name="phone"
      placeholder="Your phone"
      type="tel"
    />
    @if (signupForm.controls.phone.invalid && !signupForm.controls.phone.untouched) {
      <span class="text-danger">Please enter a valid phone number!</span>
    }
  </div>

  <div class="form-group mt-3">
    <input
      [formControl]="signupForm.controls.acceptTerms"
      class="form-check-input pointer"
      id="acceptTerms"
      name="acceptTerms"
      type="checkbox"
    />
    <label class="form-check-label ms-2 pointer" for="acceptTerms">
      Agreed with Terms <sup class="text-danger">*</sup>
    </label>
    @if (signupForm.controls.acceptTerms.invalid && !signupForm.controls.acceptTerms.untouched) {
      <div class="text-danger">You must agree with the terms!</div>
    }
  </div>

  <button class="rounded float-end mt-3" type="submit">Sign up</button>
</form>
